# Инструкция по доработке альт-азимутальной монтировки sv225 до PUSH-TO

## Предварительные работы
Перед модернизацией монтировки необходимо довести механику монтировки до возможного идеала, в моем случае я заменил смазку и избавился от люфтов путем добавления упорного подшипника.

### Замена смазки
Перед непосредственно сборкой необходимо полностью заменить заводскую смазку, так как заводская очень сильно дубеет на холоде уже при минимальных отрицательных значениях.
Рекомендуемая смазка ЦИАТИМ-F - наиболее дешевая из аналогов и не оказывающая сколь-либо значимого влияния на материал монтировки - алюминий.

<div style="text-align: center;">
<a href ="../photos/1000004130.jpg" target="_blank"><img src="../photos/1000004130.jpg" width="300"/></a>
<p><em>Снимаем старую смазку на силиконовой основе:</em></p>
</div>

<div style="text-align: center;">
<a href ="../photos/1000004250.jpg" target="_blank"><img src="../photos/1000004250.jpg" width="300"/></a>
<p><em>Смазываем авиационной смазкой ЦИАТИМ-F:</em></p>
</div>

### Устранение люфтов
Люфты получилось убрать путем добавления упорного игольчатого подшипника 6*19 (2мм толщина) под самоконтрящуюся гайку. Опытным путем устанавливается зазор, чтобы вращение монтировки было достаточно свободным, но в то же время не было паразитных люфтов.

При такой доработке не требуется механическая доработка монтировки, длины вала хватает если убрать штатную черную и металлическую шайбу (которые были сразу под гайкой) и заменить на подшипник и шайбу из набора с подшипником.

В наборе с подшипником идет 2 шайбы, а установить необходимо только 1, так как с противоположной стороны подшипник будет рабоать по поверхности толстой шайбы монтировки.

Так же стоит отрегулировать червячные пары - но на точность позиционирования не влияет. Если опыта нет, лучше не трогать.

<div style="text-align: center;">
<a href ="../photos/1000004953.jpg" target="_blank"><img src="../photos/1000004953.jpg" width="300"/></a>
<p><em>На данном фото видно получившийся "бутерброд" (снизу-вверх: толстая шайба от монтировки, упорный игольчатый подшипник, шайба из комплекта подшипника, гайка, и держатель магнита)</em></p>
</div>

## Модернизация

Основная идея модернизации монтировки состоит в добавлении магнитных энкодеров в монтировку и считывании показателей. Чем точнее энкодер, тем точнее получится наводиться на объекты.

Учитывая, что данную монтировку sv225 используют в большей степени для визуальной астрономии и также, беря во внимание стоимость энкодеров, я остановился на магнитных энкодерах MT6701. Точность которых равна 16,384 шагов на полный оборот, или 0,02 градуса. 
При стоимости на 2025 год равной 100 рублей за шт (или 1$).

Энкодеры лучше приобретать комплектом с магнитом и уже установленными на плате. Здесь используются специальные, довольно редкие магниты радиальной намагниченности. Достать их отдельно довольно сложно. 
В комплекте, как правило, находится магнит на 4мм, что вполне является рабочим вариантом, но я нашел отдельно в продаже на 6мм, в проекте есть модели под оба варианта.
С большим диаметром точность должна быть лучше.

Между магнитом и датчиком энкодера необходимо выставить зазор в районе 1-1.5мм, для этого проставки были спроектированы с запасом под возможную регулировку (немного больше).
Для регулировки зазора под плату подставляются необходимой толщины подкладки. В проекте находится модель с толщиной 2мм. Требуется отредактировать толщину под ваш зазор.

## 3D печать

Распечатываем модели:
- [детали монтировки](../models/STL/parts)
- [корпус](../models/STL/body)
- [шаблон для установки платы энкодера](../models/STL/pattern)

Для печати деталей использовался petg пластик с заполнением 15-20%. Каких-либо проблем с жесткостью монтировки замечено не было.

## Сборка

Первым делом откручиваем 6 винтов на рисунках ниже

<a href ="../photos/1000004955.jpg" target="_blank"><img src="../photos/1000004955.jpg" width="300"/></a>
<a href ="../photos/1000004956.jpg" target="_blank"><img src="../photos/1000004956.jpg" width="300"/></a>


<div style="text-align: center;">
<a href ="../photos/1000004013.jpg" target="_blank"><img src="../photos/1000004013.jpg" width="300"/></a>
<p><em>Выкрученные болты</em></p>
</div>

<div style="text-align: center;">
<a href ="../photos/1000004951.jpg" target="_blank"><img src="../photos/1000004951.jpg" width="300"/></a>
<p><em>После модернизации необходимо установить большей длины размер 1/4-20, длинна 1-1/8" (дюймовая система! Нашел только под заказ на али)
</em></p>
</div>

Далее устанавливаем держатели магнитов (вместе с магнитами) на гайки, которые фиксируют валы:

<a href ="../photos/1000004011.jpg" target="_blank"><img src="../photos/1000004011.jpg" width="300"/></a>
<a href ="../photos/1000004952.jpg" target="_blank"><img src="../photos/1000004952.jpg" width="300"/></a>

Для точного позиционирования энкодера относительно магнита необходимо распечатать  [3d шаблон](../models/STL/pattern). 
Он поможет установить ровно по центру энкодер относительно вала. Шаблон необходимо вставить в отверстия от болтов, центральный штырь укажет точку для установки энкодера.

<a href ="../photos/1000004012.jpg" target="_blank"><img src="../photos/1000004012.jpg" width="300"/></a>

<div style="text-align: center;">
<a href ="../models/STL/pattern/preview.png" target="_blank"><img src="../models/STL/pattern/preview.png" width="300"/></a>
<p><em>Шаблон для точной установки энкодера</em></p>
</div>

Устанавливем платы с энкодерами, предварительно измерив расстояние от магнита до энкодера, расстояние необходимо добрать проставками. (в идеале должно быть 1-1.5 мм).

<a href ="../photos/1000004288.jpg" target="_blank"><img src="../photos/1000004288.jpg" width="300"/></a>
<a href ="../photos/1000004287.jpg" target="_blank"><img src="../photos/1000004287.jpg" width="300"/></a>

В пазы на шайбах-проставках устанавливаем USB-C коннекторы и силиконовыми проводами соединяем с платой.
всего 4 провода, 2 - питание, 2 - данные для I2C шины.

<div style="text-align: center;">
<a href ="./img/usb-connector.png" target="_blank"><img src="./img/usb-connector.png" width="300"/></a>
<p><em>Коннекторы данного типа необходимо установить</em></p>
</div>

Собираем монтировку, должно получится примерно вот так:

<a href ="../photos/1000004944.jpg" target="_blank"><img src="../photos/1000004944.jpg" width="300"/></a>

## Заливка прошивки

Необходимо прошить ESP32 одной из предложенных прошивок под коннект через bluetooth или wifi.
Процедура довольно стандартная, если появится время опишу ее подробнее позже.

## Схема соединения ESP32 c MT6701

<div style="text-align: center;">
<a href ="./img/schema_connection.png" target="_blank"><img src="./img/schema_connection.png" width="300"/></a>
<p><em>Схема соединения платы ESP32 dev kit с двумя энкодерами MT6701</em></p>
</div>

Используются 2 шины I2C, так как данные датчики имеют фиксированный адрес, который нельзя изменить.

## Корпус для ESP32

В минимальной версии можно обойтись без корпуса, собрав все на макетной плате или навесным методом.

Но для тех, кто хочет сделать как у меня, распечатывайте [корпус](../models/STL/body) и устанавливайте в него USB-C коннекторы.
Далее силиконовыми проводами соединяйте ESP32 и коннекторы.

Монтировка и сама плата в корпусе соединяются обычными USB-C to USB-C кабелями.

## P.S.

Понятно, что многие моменты не удалось зафиксировать, многое забылось. Но общие детали из данной инструкции должны пролить свет на главную идею.

Всегда рад обратной связи, задавайте вопросы, если что-то не понятно. Контакты для связи на главной странице.
